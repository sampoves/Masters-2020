% Sampo notes
% Tämä on mun gradu. Tässä alussa vähän löpinää siitä, mistä kyse ja varmaan jotain linkkejä

%%% LAITOKSEN (FLAMMA) VANHAT GRADUOHJEET
%%% https://flamma.helsinki.fi/portal/units/matlu?_nfpb=true&_pageLabel=P9806621561360920311893&contentId=HY358060&placeId=HY357991&lang=fi
% Multifile LaTeX project:
%%% https://www.overleaf.com/learn/latex/Multi-file_LaTeX_projects
%%% https://en.wikibooks.org/wiki/LaTeX/Modular_Documents
% How to write a thesis in LaTeX
%%% https://www.overleaf.com/learn/latex/How_to_Write_a_Thesis_in_LaTeX_(Part_1):_Basic_Structure

\documentclass[a4paper,11pt]{article}

% Set margins
\usepackage{geometry}
\geometry{a4paper,total={170mm,257mm},left=20mm,right=20mm,}

% Font and layout settings
% See Microtype for thesis: http://www.khirevich.com/latex/microtype/
\usepackage[activate={true,nocompatibility},tracking=true,kerning=true,factor=1100,stretch=10,shrink=10]{microtype}

\renewcommand{\baselinestretch}{1.5}        % Set line spacing
\usepackage[finnish,english]{babel}         % Set languages. Last in list is main language
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[font=small,labelfont=bf,labelsep=period]{caption}
\setlength{\abovecaptionskip}{15pt plus 3pt minus 2pt}
\setlength{\belowcaptionskip}{15pt plus 3pt minus 2pt}
\usepackage{ragged2e}                       % justify text. Command: \justify
\usepackage{lastpage}                       % Get amount of pages
%\usepackage{subfiles}                      % multi-file .tex support
\usepackage{color}                          % Enable \textcolor{}{}
\usepackage{minted}                         % Format and highlight code
\usepackage{enumitem}                       % Control layout of itemize, enumerate, description
\usepackage{pdfpages}                       % pdf graphics

% define \code{}: StackExchange style inline code
\usepackage{xcolor}
\definecolor{light-gray}{gray}{0.95}        % Define inline code background color
\newcommand{\code}[1]{\colorbox{light-gray}{\texttt{#1}}} % define command

% Generate list of abbreviations
\usepackage{hyperref}                       % Hyperlinks. Need to be activated before glossaries
\usepackage[acronym,style=super4col]{glossaries} % Glossaries and lists of acronyms

% Define new command \fullref to reference both section number and name
\newcommand*{\fullref}[1]{\hyperref[{#1}]{\autoref*{#1}, \nameref*{#1}}}

% Abbreviations. Note the definition of plural forms
\newacronym[plural=IDEs,firstplural=Integrated development environments (IDE)]{ide}{IDE}{Integrated Development Environment}
\newacronym{php}{PHP}{Hypertext preprocessor}

% Nomenclature for glossary. Note the definition of plural forms
\newglossaryentry{mysql}{
  name = {MySQL},
  description = {Open-source relational database management system},
}
\newglossaryentry{GB}{
  name = {GB},
  description = {Gigabyte is a multiple of the unit used to store digital information. A gigabyte is 1 000 megabytes},
}
\newglossaryentry{CPU}{
  name = {CPU},
  description = {Central Processing Unit},
  plural = {CPUs},
  firstplural = {\glsentrydesc{CPU}s (\glsentryplural{CPU})}
}
\newglossaryentry{RAM}{
  name = {RAM},
  description = {Random Access Memory},
}

\makeglossaries

% Datetime settings
\usepackage[ddmmyyyy]{datetime}             % Change format of datetime
%\newdateformat{mydate}{%
%    \onedigit{\THEDAY}.\onedigit{\THEMONTH}.\THEYEAR} % remove unnecessary zeroes in date
\newdateformat{mydate}{%
    {\THEDAY}.{\THEMONTH}.\THEYEAR}         % The one above causes undefined control sequence   
\newdateformat{monthyeardate}{%
    \monthname[\THEMONTH] \THEYEAR}         % mm/yyyy date format for English abstract
\newcommand*{\printfindate}{%               % Get Finnish months and year for Finnish abstract
   \ifcase \month\or Tammikuu\or Helmikuu\or Maaliskuu\or Huhtikuu\or Toukokuu\or Kesäkuu\or Heinäkuu\or Elokuu\or Syyskuu\or Lokakuu\or Marraskuu\or Joulukuu\fi \space \number\year}

% Images related packages and settings
\usepackage{rotating, graphicx}
\graphicspath{ {images/} }

% references and reference styles
\usepackage{natbib}                         % Flexible bibliography support
\bibliographystyle{apalike2}                
\setcitestyle{authoryear,open={},close={}}  % Removes citation parentheses

% Other packages
%\usepackage{alphabeta}                      % Greek alphabet
%\usepackage{amsmath}                        % AMS mathematical facilities
\usepackage{subfig}
\usepackage{gensymb}                        % Generic symbols for both text and math mode
%\usepackage[colorinlistoftodos]{todonotes}  % Marking things to do in a LATEX document
%\usepackage{amsthm}                         % Typesetting theorems (AMS style)
\usepackage{float}                          % Improved interface for floating objects
\usepackage{pdfpages}                       % Include PDF documents in LATEX
\usepackage{listings}                       % Typeset source code listings using LATEX
\usepackage{import}                         % Establish input relative to a directory

% Tables
%\usepackage[showframe]{geometry}           % Double load of geometry? what does showframe do?
\usepackage{tabularx}                       % Tabulars with adjustable-width columns
\usepackage{makecell}                       % Thicker vline
\usepackage{chngpage}                       % Allows for temporary adjustment of side margins
\usepackage{longtable}                      % Allows tables to span multiple pages
\usepackage{cellspace}                      % Ensure minimal spacing of table cells
\setlength{\cellspacetoplimit}{6pt}
\setlength{\cellspacebottomlimit}{6pt}
\addparagraphcolumntypes{X}
\newcolumntype{?}{!{\vrule width 1.5pt}}    % thicker vline for tabularx
\newcommand\Tstrut{\rule{0pt}{2.2ex}}       % "top" strut
\newcommand\Bstrut{\rule[-4.0ex]{0pt}{0pt}} % "bottom" strut
\newcommand{\TBstrut}{\Tstrut\Bstrut}       % top & bottom struts
\usepackage{booktabs}
\newcommand{\ra}[1]{\renewcommand{\arraystretch}{#1}}

% Translator command setup
% this enables us to use multilanguage strings which works with package babel
\newcommand{\newtranslatorcommand}[3]{%
    \newcommand{#1}{%
        \iflanguage{english}{#2}{%
        \iflanguage{finnish}{#3}{%
        }}%
    }%
}

% Title page settings
\usepackage{setspace}                       % Different line spacing than document default
\newcommand{\myname}{                       % THIS STRING REPRESENTS THESIS AUTHOR IN THE DOCUMENT
    Sampo Vesanen%
}
\newcommand{\mysupervisors}{%
    Tuuli Toivonen \\
    Petteri Muukkonen%
}
\newcommand{\addressFirst}{%
    PL 64 (Gustaf Hällströmin katu 2)
}
\newcommand{\addressSecond}{%
    00014 Helsingin yliopisto%
}

% Abstract page settings
% THESIS MULTILANGUAGE STRINGS
% Multilanguage code is adapted from here:
% https://tex.stackexchange.com/questions/42784/language-dependent-custom-command
\newtranslatorcommand{\mytitle}{%
    Parking private cars and accessibility in Helsinki Capital Region%
}{%
    Henkilöauton pysäköinti ja spatiaalinen saavutettavuus pääkaupunkiseudulla%
}

% Choose correct date format for abstract
\newtranslatorcommand{\translatedate}{%
    \monthyeardate\today%
}{%
    \printfindate%
}

% PAGE COUNT MULTILANUAGE STRING
\newtranslatorcommand{\mypages}{%
    \pageref{myLastPage} pages and appendices%
}{%
    \pageref{myLastPage} sivua ja liitteet%
}

% UNIVERSITY MULTILANGUAGE STRING
\newtranslatorcommand{\myuni}{%
    University of Helsinki%
}{%
    Helsingin yliopisto%
}

% FACULTY MULTILANGUAGE STRING
\newtranslatorcommand{\myfaculty}{%
    Faculty of Science%
}{%
    Matemaattisluonnontieteellinen tiedekunta%
}

% DEPARTMENT MULTILANGUAGE STRING
\newtranslatorcommand{\mydept}{%
    Department of Geosciences and Geography%
}{%
    Geotieteiden ja maantieteen osasto%
}

% GEOGRAPHY MULTILANGUAGE STRING
\newtranslatorcommand{\mysubject}{%
    Geography
}{%
    Maantiede
}

% GEOINFORMATICS MULTILANGUAGE STRING
\newtranslatorcommand{\mySpecSubject}{%
    Geoinformatics%
}{%
    geoinformatiikka%
}

% THESIS TYPE MULTILANGUAGE STRING
\newtranslatorcommand{\mythesis}{%
    Master's thesis%
}{%
    Pro gradu -tutkielma%
}

% CHOOSE CORRECT ABSTRACT LANGUAGE
\newtranslatorcommand{\myabstract}{%
    \import{content/}{abstract_en.tex}%
}{%
    \import{content/}{abstract_fi.tex}%
}

% KEYWORDS MULTILANGUAGE STRING
\newtranslatorcommand{\mykeywords}{%
    GIS, R, parking, Python, accessibility%
}{%
    GIS, R, pysäköinti, Python, saavutettavuus%
}

% LIBRARY MULTILANGUAGE STRING
\newtranslatorcommand{\mylibrary}{%
    E-Thesis%
}{%
    E-Thesis%
}

% OTHER INFO MULTILANGUAGE STRING
\newtranslatorcommand{\myotherinfo}{%
    -%
}{%
    -%
}

\title{\mytitle}
\author{\myname}
\date{\today}


% BEGIN DOCUMENT PROPER
\begin{document}

% TITLE PAGE
\import{elements/}{titlepage.tex}

%%% 1ST ABSTRACT PAGE, ENGLISH
\newpage
\import{elements/}{abstract.tex}

%%% 2ND ABSTRACT PAGE, FINNISH
\newpage
\begin{otherlanguage*}{finnish}
\import{elements/}{abstract.tex}
\end{otherlanguage*}

% TABLE OF CONTENTS
\newpage
\selectlanguage{english}
\thispagestyle{empty} % suppress page numbering
\renewcommand*\contentsname{Table of contents} % Set custom name for ToC
\tableofcontents

% LIST OF FIGURES
\newpage
\listoffigures
\thispagestyle{empty}

% LIST OF TABLES
\listoftables

% LIST OF ABBREVIATIONS
\printglossary[type=\acronymtype,title=List of abbreviations]
\printglossary[title=Nomenclature]

% INTRODUCTION AND RESEARCH QUESTIONS
\newpage
\setcounter{page}{1} % set page numbering to start from here
\include{content/c1_introduction}

% THEORETICAL BACKGROUND
\newpage
\import{content/}{c2_background.tex}%

% DATA AND METHODS
\newpage
\import{content/}{c3_data.tex}%

% RESULTS
\newpage
\import{content/}{c4_results.tex}%

% DISCUSSION
\newpage
\import{content/}{c5_discussion.tex}%

% REFERENCES
% Connect Mendeley references to Overleaf bib file
\newpage
\label{myLastPage} % This label defines the last page to be included in page count
\section{References}
\renewcommand{\refname}{}
\bibliography{references.bib}

% APPENDICES
\newpage
\pagenumbering{gobble} % Suppress appendices page numbering from page and table of contents 
\appendix
\import{content/}{appendices.tex}%

\end{document}